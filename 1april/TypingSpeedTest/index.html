<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing speed test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISIrS6Lw9R9GCD1UibjUqf9zEY9HRb6VlCm+aP8XvjnhsBBrjI4zF4" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    

    <div class="container">
        <div class="heading">
            <h1 class ="text-center mt-10">Welcome to Typing Speed Test</h1>
        </div>
        <p id="intro">Hope you are having fun this is a simple game.</p>

        <div onclick="space()" class="writingSpace">
            <input type="text" id="input" placeholder="Click here to start typing..." autofocus>
            <p id="writesth"></p>
        </div>
        <button id="clickme">Done</button>
        <p id="result"></p>
        <p id="speedResult"></p> 
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A+4X8fE5w3q9z5pJT+ZNRJlhjAM5gHk4uANNCeE4JyDIqVtZ9" crossorigin="anonymous"></script>
    <script>
        let writingspace = document.querySelector(".writingSpace");
        let intro = document.getElementById("intro");
        let inputField = document.getElementById("input");
        let writesth = document.getElementById("writesth");
        let doneButton = document.getElementById("clickme");
        let resultPara = document.getElementById("result");
        let speedResult = document.getElementById("speedResult");
    
        let startTime;
        // Initially hide the intro text
        intro.style.display = "none";
    
        // Show intro when the user enters the writing space
        writingspace.addEventListener("mouseenter", function() {
            intro.style.display = "block";
        });
    
        // Hide intro when the user leaves the writing space
        writingspace.addEventListener("mouseleave", function() {
            intro.style.display = "none";
        });

        // Start timer when the user begins typing
        inputField.addEventListener("focus", function() {
                if (!startTime) {
                    startTime = new Date().getTime();
                }
            });

        inputField.addEventListener("input",function(){
            writesth.textContent = inputField.value;
        });
        doneButton.addEventListener("click", function() {
        let text = inputField.value.trim();
        let charCount = text.length;
        let wordCount = text === "" ? 0 : text.split(/\s+/).length; // Count words

        let endTime = new Date().getTime();
        let timeTakenInSeconds = (endTime - startTime)/1000;
        let typingSpeed = (wordCount/timeTakenInSeconds)*60;

         
        // Show typing speed
        speedResult.textContent = `Typing Speed: ${typingSpeed.toFixed(2)} WPM`;    

        resultPara.textContent = `Words: ${wordCount} | Characters: ${charCount}`;
        resultPara.style.fontSize = "1.2rem";
        resultPara.style.color = "blue";
        resultPara.style.fontWeight = "bold";
        resultPara.style.marginTop = "10px";
        
        speedResult.style.fontSize = "1.2rem";
        speedResult.style.color = "green";
        speedResult.style.fontWeight = "bold";
        speedResult.style.marginTop = "10px";
    });
    </script>
    
</body>
</html>